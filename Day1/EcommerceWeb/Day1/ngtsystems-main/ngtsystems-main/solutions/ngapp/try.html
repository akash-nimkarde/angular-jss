<html>
   <head>
      <title>Angular JS Services</title>
      <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js">
      </script>
   </head>
   
   <body ng-app = "mainApp">
      <h2>AngularJS Sample Application</h2>
      <hr/>
      <div  ng-controller = "UserController">
         <button ng-click = "getAll()">Get All Users</button>
         <h2>Users</h2>
        <ul>
          <li ng-repeat="user in users">{{ user.name }}</li>
        </ul>
      </div>
      
      <script>
        var mainApp = angular.module("mainApp", []);
        
        mainApp.factory('UsersFactory', function() {
         var factory = {};  
         factory.getAll = function() {
               return [
                  { name: 'Ravi Tambade', email: 'ravi.tambade@transflower.in' },
                  { name: 'Sameer Patil', email: 'sameer.patil@gmail.com' },
                  { name: 'Manisha Pant', email: 'manisha.pant@gmail.com' }
               ]
            }
         return factory;
         });

         mainApp.service('UserService', function(UsersFactory) {
            this.getUsers = function(a) {
               return UsersFactory.getAll(a,a);
            }
         });

         mainApp.controller('UserController', function($scope, UserService) {
            $scope.getAll = function() {
               $scope.users = UserService.getUsers($scope.number);
            }
         });
      </script>
   </body>
</html>